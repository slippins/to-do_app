{"version":3,"sources":["todo.js"],"names":["LocalStorage","Dialog","localStorage","Todo","[object Object]","this","enterButton","document","querySelector","input","ul","items","length","loadFromLocalStorage","addEventListener","e","addListItem","value","key","undefined","createListItem","li","createElement","innerHTML","appendChild","crossOut","deleteListItem","updateItems","currentTarget","classList","toggle","stopPropagation","listItem","parentNode","dialog","questionText","trueButtonText","falseButtonText","confirm","remove","listItems","forEach","item","querySelectorAll"],"mappings":"OAAOA,iBAAkB,+BAClBC,WAAY,kBAEnB,MAAMC,aAAe,IAAIF,4BAEV,MAAMG,KACjBC,cACIC,KAAKC,YAAcC,SAASC,cAAc,qBAC1CH,KAAKI,MAAQF,SAASC,cAAc,oBACpCH,KAAKK,GAAIH,SAASC,cAAc,eAE7BN,aAAaS,MAAMC,OAAS,GAC3BP,KAAKQ,uBAGTR,KAAKC,YAAYQ,iBAAiB,SAAUC,GAAMV,KAAKW,YAAYD,KACnEV,KAAKI,MAAMK,iBAAiB,YAAaC,GAAMV,KAAKW,YAAYD,KAGpEX,YAAYW,GACLV,KAAKI,MAAMQ,MAAML,OAAS,IAAgB,UAAVG,EAAEG,UAA6BC,IAAVJ,EAAEG,MACtDb,KAAKe,iBAIbhB,iBACI,MAAMiB,EAAKd,SAASe,cAAc,MAClCD,EAAGE,UAAelB,KAAKI,MAAMQ,MAAd,oCACfZ,KAAKK,GAAGc,YAAYH,GACpBhB,KAAKI,MAAMQ,MAAQ,GAEnBI,EAAGP,iBAAiB,SAAUC,GAAMV,KAAKoB,SAASV,KAClDM,EAAGb,cAAc,KAAKM,iBAAiB,SAAUC,GAAMV,KAAKqB,eAAeX,KAE3Eb,aAAayB,YAAYtB,KAAKK,IAGlCN,SAASW,GACLA,EAAEa,cAAcC,UAAUC,OAAO,QACjC5B,aAAayB,YAAYtB,KAAKK,IAGlCN,qBAAqBW,GACjBA,EAAEgB,kBACF,MAAMC,EAAWjB,EAAEa,cAAcK,WAC3BC,EAAS,IAAIjC,OAAO,CACtBkC,aAAa,kCACbC,eAAe,OACfC,gBAAgB,eAGKH,EAAOI,YAE5BN,EAASO,SACTrC,aAAayB,YAAYtB,KAAKK,KAItCN,uBACI,IAAIoC,EAAY,GAChBtC,aAAaS,MAAM8B,SAAQC,GAAQF,GAAaE,IAChDrC,KAAKK,GAAGa,UAAYiB,EACpBnC,KAAKK,GAAGiC,iBAAiB,MAAMF,SAAQpB,IACnCA,EAAGP,iBAAiB,SAAUC,GAAMV,KAAKoB,SAASV,KAClDM,EAAGb,cAAc,KAAKM,iBAAiB,SAAUC,GAAMV,KAAKqB,eAAeX","file":"todo.min.js","sourcesContent":["import LocalStorage from \"./localStorage.min.js\";\r\nimport Dialog from \"./dialog.min.js\";\r\n\r\nconst localStorage = new LocalStorage();\r\n\r\nexport default class Todo{\r\n    constructor() {\r\n        this.enterButton = document.querySelector('#inputArea button');\r\n        this.input = document.querySelector('#inputArea input');\r\n        this.ul= document.querySelector('ul#toDoList');\r\n\r\n        if(localStorage.items.length > 0){\r\n            this.loadFromLocalStorage();\r\n        }\r\n\r\n        this.enterButton.addEventListener('click', (e) => this.addListItem(e));\r\n        this.input.addEventListener('keypress', (e) => this.addListItem(e));\r\n    }\r\n\r\n    addListItem(e){\r\n        if(this.input.value.length > 0 && (e.key === 'Enter' || e.key === undefined)){\r\n            this.createListItem();\r\n        }\r\n    }\r\n\r\n    createListItem(){\r\n        const li = document.createElement('li');\r\n        li.innerHTML = `${this.input.value} <i class=\"far fa-trash-alt\"></i>`;\r\n        this.ul.appendChild(li);\r\n        this.input.value = '';\r\n\r\n        li.addEventListener('click', (e) => this.crossOut(e));\r\n        li.querySelector('i').addEventListener('click', (e) => this.deleteListItem(e));\r\n\r\n        localStorage.updateItems(this.ul);\r\n    }\r\n\r\n    crossOut(e){\r\n        e.currentTarget.classList.toggle('done');\r\n        localStorage.updateItems(this.ul);\r\n    }\r\n\r\n    async deleteListItem(e){\r\n        e.stopPropagation();\r\n        const listItem = e.currentTarget.parentNode;\r\n        const dialog = new Dialog({\r\n            questionText:'<h1>Er du virkelig sikker?</h1>',\r\n            trueButtonText:'Jaer',\r\n            falseButtonText:'Narh',\r\n        });\r\n\r\n        const deleteItem = await dialog.confirm();\r\n        if(deleteItem){\r\n            listItem.remove();\r\n            localStorage.updateItems(this.ul);\r\n        }\r\n    }\r\n\r\n    loadFromLocalStorage(){\r\n        let listItems = '';\r\n        localStorage.items.forEach(item => listItems += item);\r\n        this.ul.innerHTML = listItems;\r\n        this.ul.querySelectorAll('li').forEach(li => {\r\n            li.addEventListener('click', (e) => this.crossOut(e));\r\n            li.querySelector('i').addEventListener('click', (e) => this.deleteListItem(e));\r\n        });\r\n    }\r\n}\r\n\r\n"]}