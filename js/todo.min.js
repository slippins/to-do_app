import LocalStorage from"./localStorage.min.js";import Dialog from"./dialog.min.js";const localStorage=new LocalStorage;export default class Todo{constructor(){this.enterButton=document.querySelector("#inputArea button"),this.input=document.querySelector("#inputArea input"),this.ul=document.querySelector("ul#toDoList"),localStorage.items.length>0&&this.loadFromLocalStorage(),this.enterButton.addEventListener("click",(t=>this.addListItem(t))),this.input.addEventListener("keypress",(t=>this.addListItem(t)))}addListItem(t){this.input.value.length>0&&("Enter"===t.key||void 0===t.key)&&this.createListItem()}createListItem(){const t=document.createElement("li");t.innerHTML=this.input.value+' <i class="far fa-trash-alt"></i>',this.ul.appendChild(t),this.input.value="",t.addEventListener("click",(t=>this.crossOut(t))),t.querySelector("i").addEventListener("click",(t=>this.deleteListItem(t))),localStorage.updateItems(this.ul)}crossOut(t){t.currentTarget.classList.toggle("done"),localStorage.updateItems(this.ul)}async deleteListItem(t){t.stopPropagation();const e=t.currentTarget.parentNode,i=new Dialog({questionText:"<h1>Er du virkelig sikker?</h1>",trueButtonText:"Jaer",falseButtonText:"Narh"});await i.confirm()&&(e.remove(),localStorage.updateItems(this.ul))}loadFromLocalStorage(){let t="";localStorage.items.forEach((e=>t+=e)),this.ul.innerHTML=t,this.ul.querySelectorAll("li").forEach((t=>{t.addEventListener("click",(t=>this.crossOut(t))),t.querySelector("i").addEventListener("click",(t=>this.deleteListItem(t)))}))}}
//# sourceMappingURL=todo.min.js.map
